## 8.1 声明、初始化和 make

### 8.1.1 概念
* map 是 **引用类型**，可以使用如下声明：
```go
var map1 map[keytype]valuetype

eg: var map1 map[string]int
```

* 在声明的时候不需要知道 map 的长度，map 是可以动态增长的

* 未初始化的 map 的值是 nil。

* 数组、切片和结构体不能作为 key (译者注：含有数组切片的结构体不能作为 key，只包含内建类型的 struct 是可以作为 key 的），但是指针和接口类型可以。

* value 可以是任意类型的；通过使用空接口类型（详见第 11.9 节），我们可以存储任意值，但是使用这种类型作为值时需要先做一次类型断言（详见第 11.3 节）。

* map 传递给函数的代价很小：在 32 位机器上占 4 个字节，64 位机器上占 8 个字节，无论实际上存储了多少数据。

* 通过 key 在 map 中寻找值是很快的，比线性查找快得多，但是仍然比从数组和切片的索引中直接读取要慢 100 倍；所以如果你很在乎性能的话还是建议用切片来解决问题。


* **不要使用 new，永远用 make 来构造 map**
    * 注意 如果你错误的使用 `new()` 分配了一个引用对象，你会获得一个空引用的指针，相当于声明了一个未初始化的变量并且取了它的地址


### 8.1.2 map 容量    
* 标明 map 的初始容量 capacity：`make(map[keytype]valuetype, cap)`


### 8.1.3 用切片作为 map 的值
```go
mp1 := make(map[int][]int)
mp2 := make(map[int]*[]int)
```